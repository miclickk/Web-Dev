<h1>Album Detail</h1>

<div *ngIf="error" style="color:red; margin: 10px 0;">
  {{ error }}
</div>

<div *ngIf="album$ | async as album">
  <div *ngIf="album; else loadingOrMissing">
    <p><strong>ID:</strong> {{ album.id }}</p>
    <p><strong>User ID:</strong> {{ album.userId }}</p>

    <label>
      Title:
      <input [(ngModel)]="editedTitle" />
    </label>

    <p style="margin-top: 10px;">
      <strong>Current title shown:</strong> {{ album.title }}
    </p>

    <div style="display:flex; gap:10px; margin-top: 12px; flex-wrap: wrap;">
      <button (click)="save(album)" [disabled]="saving">
        {{ saving ? 'Saving...' : 'Save' }}
      </button>

      <button (click)="viewPhotos()">View Photos</button>
      <button (click)="back()">Back</button>
    </div>
  </div>

  <ng-template #loadingOrMissing>
    <p>Loading album...</p>
  </ng-template>
</div>
